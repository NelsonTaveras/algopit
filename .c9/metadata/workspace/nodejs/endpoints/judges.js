{"filter":false,"title":"judges.js","tooltip":"/nodejs/endpoints/judges.js","undoManager":{"mark":43,"position":43,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":49,"column":2},"action":"remove","lines":["var _ = require('lodash');","","exports.up = function(ws, model){","    ws.get('/api/problems', function(req, res){","        model.Problem.find({}).exec(function(err, results){","            var ret = _.map(results, function(item){","                return {","                    _id: item._id,","                    categories: item.categories,","                    name: item.name,","                    difficulty: item.difficulty,","                    url: item.url,","                    judge: item.judge","                };","            });","            if(err)res.send(err);","            else res.send(ret || []);","        });","    });","    ","    ws.get('/api/problems/:id',function(req, res){","        model.Problem.find({_id: req.params.id }, function(err, results){","            if(err)res.send(err);","            else res.send(results[0] || {});","        });","    });","    ","    ws.post('/api/problems', function(req, res){","        var p = new model.Problem(req.body);","        p.save(function(){","            res.send(p);","        });","    });","    ","    ws.put('/api/problems/:id', function(req, res){","        var problem = req.body;","        model.Problem.update({_id: req.params.id }, problem, function(err, count){","            if(err)res.send(err);","            else res.send({affected: count});","        });","    });","    ","    ws.delete('/api/problems/:id', function(req, res){","        model.Problem.remove({_id: req.params.id}, function(err, obj){","            if(err)res.send(err);","            else res.send({affected: obj});","        });","    });","    console.log(\"ProblemsService Up\");","};"]},{"start":{"row":0,"column":0},"end":{"row":10,"column":2},"action":"insert","lines":["var _ = require('lodash');","","exports.up = function(ws, model){","    ws.get('/api/categories', function(req, res){","        model.Categories.find({}).exec(function(err, cats){","            if(err)res.send(err);","            else res.send(cats || []);","        });","    });","    console.log(\"ProblemsService Up\");","};"]}]}],[{"group":"doc","deltas":[{"start":{"row":3,"column":17},"end":{"row":3,"column":27},"action":"remove","lines":["categories"]},{"start":{"row":3,"column":17},"end":{"row":3,"column":18},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":3,"column":18},"end":{"row":3,"column":19},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":3,"column":19},"end":{"row":3,"column":20},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":3,"column":20},"end":{"row":3,"column":21},"action":"insert","lines":["b"]}]}],[{"group":"doc","deltas":[{"start":{"row":3,"column":21},"end":{"row":3,"column":22},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":3,"column":22},"end":{"row":3,"column":23},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":3,"column":23},"end":{"row":3,"column":24},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":3,"column":24},"end":{"row":3,"column":25},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":14},"end":{"row":4,"column":24},"action":"remove","lines":["Categories"]},{"start":{"row":4,"column":14},"end":{"row":4,"column":15},"action":"insert","lines":["M"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":15},"end":{"row":4,"column":16},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":15},"end":{"row":4,"column":16},"action":"remove","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":14},"end":{"row":4,"column":15},"action":"remove","lines":["M"]}]}],[{"group":"doc","deltas":[{"start":{"row":3,"column":17},"end":{"row":3,"column":25},"action":"remove","lines":["problems"]},{"start":{"row":3,"column":17},"end":{"row":3,"column":18},"action":"insert","lines":["j"]}]}],[{"group":"doc","deltas":[{"start":{"row":3,"column":18},"end":{"row":3,"column":19},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":3,"column":19},"end":{"row":3,"column":20},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":3,"column":20},"end":{"row":3,"column":21},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":3,"column":21},"end":{"row":3,"column":22},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":3,"column":22},"end":{"row":3,"column":23},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":14},"end":{"row":4,"column":15},"action":"insert","lines":["J"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":15},"end":{"row":4,"column":16},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":16},"end":{"row":4,"column":17},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":17},"end":{"row":4,"column":18},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":18},"end":{"row":4,"column":19},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":9,"column":17},"end":{"row":9,"column":32},"action":"remove","lines":["ProblemsService"]},{"start":{"row":9,"column":17},"end":{"row":9,"column":18},"action":"insert","lines":["J"]}]}],[{"group":"doc","deltas":[{"start":{"row":9,"column":18},"end":{"row":9,"column":19},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":9,"column":19},"end":{"row":9,"column":20},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":9,"column":20},"end":{"row":9,"column":21},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":9,"column":21},"end":{"row":9,"column":22},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":9,"column":22},"end":{"row":9,"column":23},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":9,"column":23},"end":{"row":9,"column":24},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":9,"column":24},"end":{"row":9,"column":25},"action":"insert","lines":["S"]}]}],[{"group":"doc","deltas":[{"start":{"row":9,"column":25},"end":{"row":9,"column":26},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":9,"column":26},"end":{"row":9,"column":27},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":9,"column":27},"end":{"row":9,"column":28},"action":"insert","lines":["v"]}]}],[{"group":"doc","deltas":[{"start":{"row":9,"column":28},"end":{"row":9,"column":29},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":9,"column":24},"end":{"row":9,"column":29},"action":"remove","lines":["Servi"]},{"start":{"row":9,"column":24},"end":{"row":9,"column":31},"action":"insert","lines":["Service"]}]}],[{"group":"doc","deltas":[{"start":{"row":9,"column":32},"end":{"row":9,"column":34},"action":"remove","lines":["Up"]},{"start":{"row":9,"column":32},"end":{"row":9,"column":33},"action":"insert","lines":["S"]}]}],[{"group":"doc","deltas":[{"start":{"row":9,"column":32},"end":{"row":9,"column":33},"action":"remove","lines":["S"]}]}],[{"group":"doc","deltas":[{"start":{"row":9,"column":32},"end":{"row":9,"column":33},"action":"insert","lines":["S"]}]}],[{"group":"doc","deltas":[{"start":{"row":9,"column":33},"end":{"row":9,"column":34},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":9,"column":34},"end":{"row":9,"column":35},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":9,"column":35},"end":{"row":9,"column":36},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":9,"column":32},"end":{"row":9,"column":36},"action":"remove","lines":["Star"]},{"start":{"row":9,"column":32},"end":{"row":9,"column":39},"action":"insert","lines":["Started"]}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":9,"column":39},"end":{"row":9,"column":39},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":13,"mode":"ace/mode/javascript"}},"timestamp":1427045098361,"hash":"5b51473e7342e495e39fb22e8ad04b7f5e9bf26b"}